(this["webpackJsonpexercises_2.15_forward"]=this["webpackJsonpexercises_2.15_forward"]||[]).push([[0],{37:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),a=n(14),u=n.n(a),i=n(3),o=function(e){var t=e.person;return Object(c.jsxs)("li",{children:[t.name," ",t.number]},t.name)},s=n(4),j=n.n(s),b="/api/persons",d=function(){return j.a.get(b).then((function(e){return e.data}))},l=function(e){return j.a.post(b,e).then((function(e){return e.data}))},h=function(e,t){return j.a.put("".concat(b,"/").concat(e),t).then((function(e){return e.data}))},O=function(e){j.a.delete("".concat(b,"/").concat(e))},f=function(e){var t=e.persons,n=Object(r.useState)(""),a=Object(i.a)(n,2),u=a[0],s=a[1],j=Object(r.useState)([]),b=Object(i.a)(j,2),d=b[0],l=b[1];Object(r.useEffect)((function(){l(t.filter((function(e){return e.name.includes(u)})))}),[t,u]);var h=function(e){O(e.target.value)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{children:"Numbers"}),"filter shown with",Object(c.jsx)("input",{onChange:function(e){s(e.target.value)}}),Object(c.jsx)("ul",{children:d.map((function(e){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(o,{person:e},e.name),Object(c.jsx)("button",{value:e.id,onClick:h,children:"Delete"},e.number)]})}))})]})},m=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],u=Object(r.useState)(""),o=Object(i.a)(u,2),s=o[0],j=o[1],b=Object(r.useState)(""),O=Object(i.a)(b,2),m=O[0],p=O[1],x=Object(r.useState)(null),v=Object(i.a)(x,2),g=v[0],w=v[1];Object(r.useEffect)((function(){d().then((function(e){a(e)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)("h2",{children:"add a new"}),null!==g&&Object(c.jsx)("h1",{children:g.error}),Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{onChange:function(e){j(e.target.value)}})]}),Object(c.jsxs)("div",{children:["number: ",Object(c.jsx)("input",{onChange:function(e){p(e.target.value)}})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var t={name:s,number:m};n.map((function(e){e.name===t.name&&(!0,window.confirm("".concat(s," is already added to phonebook, replace the old number with a new one?"))&&h(e.id,t))})),a(n.concat(t)),l(t).catch((function(e){w(e.response.data)})),j("")},children:"add"})})]}),Object(c.jsx)(f,{persons:n})]})};u.a.render(Object(c.jsx)(m,{}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.f60b968e.chunk.js.map